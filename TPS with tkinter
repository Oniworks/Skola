import requests
from bs4 import BeautifulSoup
import pandas as pd
from selenium import webdriver
import time
import tkinter as tk

from selenium.webdriver.firefox.service import Service as FirefoxService
from selenium.webdriver.common.by import By
from webdriver_manager.firefox import GeckoDriverManager
from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC

firefox_options = webdriver.FirefoxOptions()

service = FirefoxService(executable_path=GeckoDriverManager().install())
driver = webdriver.Firefox(service=service, options=firefox_options)
driver.get("https://www.theparking.eu/used-cars/Supercar.html")
driver.execute_script("window.scrollTo(0, document.body.scrollHeight);")

time.sleep(2)

page_source = driver.page_source

soup = BeautifulSoup(page_source, "html.parser")

makes = soup.find_all("span", class_="title-block brand three-dots")
models = soup.find_all("span", class_="sub-title title-block three-dots")
prices = soup.find_all("p", class_="prix")

data = []
i = 0
j = 0
k = 0
while i < len(makes) and j < len(models) and k < len(prices):
    make = makes[i].text
    model = models[j].text
    price = prices[k].text.strip("\n").strip("  ")
    data.append((make, model, price))
    i += 2
    j += 4
    k += 3

driver.quit()
print(data)
# Create the main application window
root = tk.Tk()
root.title("Make, Model and Price")
#Add a search window that searches data
def search():
    query = entry.get()
    # Perform search operation with the query
    print(f"Searching for: {query}")
label = tk.Label(root, text="Enter your search query:")
label.pack()

entry = tk.Entry(root)
entry.pack()

search_button = tk.Button(root, text="Search", command=search)
search_button.pack()
# Add a button to the window
#button = tk.Button(root, text="Click Me!", command=lambda: print("Button clicked"))
#button.pack()
# Start the main event loop
root.mainloop()
